# 一、什么是引用

引用是C++的一个特性，也称为引用变量，是**给已定义的变量起的别名**。

# 二、如何创建引用

语法：使用&符号来声明引用：

```cpp
int a = 10;
int &ref = a;   //声明ref是a的引用
```

需要注意的点：

1. 声明引用后，引用和原变量的<font color="red">**值和地址都相同**</font>
2. 引用必须在声明的时候初始化，且创建后无法修改关联

# 三、引用的用途

引用的两个用途：

- 用于按引用传递参数（主要）
- 用于按引用传递返回值

## 1. 用作函数参数

什么是按引用传递：将引用用作函数参数，使函数中的变量名成为调用程序中的变量的别名。

用法：声明函数形参时，添加引用运算符&。

```cpp
int test(int &a);   //形参a被声明为引用
```

## 2. 用于传递结构体或对象

用法：将结构体类型的参数声明为引用。

```cpp
struct stu
{
    int a;
    int b;
};

void set_a(stu &st);  //声明形参st为一个结构体类型的引用
```

## 3. 用于函数返回值

用法：声明函数返回值时，添加引用运算符&。

```cpp
stu & set_a(stu &st);
```

注意：

- 避免返回函数终止时不存在的内存单元引用，避免因内存被释放而导致异常，可以通过返回一个作为参数传递给函数的引用来解决此问题
- 避免返回值作为左值被修改，可以返回const修饰的常量引用来解决此问题


# 四、引用的优点和缺点

## 优点

- 可以访问原数据（用作函数参数传递）
- 传递结构体或对象时，不用拷贝值，节省时间和内存
- 使用方便，可以像使用原变量一样使用引用

## 缺点

- **非常容易导致原变量的值被修改**（使用常量引用可以避免此问题）

# 五、常量引用

目的：只需要读取引用的值，避免引用被修改

用法：使用const修饰引用声明

```cpp
void set_a(const stu &st);  //st被声明为常量引用，只可读取值，无法修改结构体中的成员

const stu & set_a(stu &st); //返回值声明为常量引用，只可读取，无法被修改
```

# 六、引用和指针的区别

## 语法不同

- 指针用`*`
- 引用用`&`

## 本质不同

- 指针变量：该新指针变量的本质还是变量，有自己的地址，把某个变量的地址作为指针的值，称之为指向某个变量
- 引用变量：仅仅是一个新的变量名，地址和值都是原来变量的

## 初始化方式不同

- 指针变量：可以先定义，再赋值，并且可以随时修改值
- 引用变量：在定义的时候必须赋值，而且定义后无法修改值

## 使用不同

- 指针变量：访问值需要使用解引用运算符`*`
- 引用变量：和使用原变量的方式一样

# 七、按引用传递和按值传递、按指针传递的区别

## 按引用传递和按值传递的区别

- 声明函数参数的方式不同
- 传递引用会操作原始数据，而传递值只是值的拷贝

## 按引用传递和按指针传递

- 声明函数参数不同
- 指针在操作过程中需要解引用运算符，而引用不需要